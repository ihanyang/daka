{"version":3,"sources":["webpack:///./src/css/home.css","webpack:///./src/components/navigator.vue?8026","webpack:///./src/components/navigator.vue","webpack:///./src/pages/index/index.vue?b0c3","webpack:///./src/components/navigator.vue?e89c","webpack:///./src/utils/index.js","webpack:///./src/pages/index/index.vue","webpack:///./src/pages/index/index.js","webpack:///src/components/navigator.vue","webpack:///src/pages/index/index.vue"],"names":["login","resolve","reject","wx","success","res","api","code","flag","data","getStorageSync","setStorageSync","session","fail","app","$mount"],"mappings":";;;;;AAAA,yC;;;;;;;ACAA,yC;;;;;;;;;ACAA;AAAA;AACA;AACA;AACA,yBAAsY;AACtY;AACA;AACA;AACA;AACA;AACkP;AAClP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;;AC3CA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;ACvEA,0BAA0B,aAAa,0BAA0B;AACjE;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;;;ACxBA;;AAEO,SAASA,KAAT,GAAiB;AAAA;;AACpB,WAAO,0EAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpCC,WAAGH,KAAH,CAAS;AACLI;AAAA,+LAAS,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CACc,qDAAAC,CAAIN,KAAJ,CAAU;AACzBO,8CAAMF,IAAIE,IADe;AAEzBC,8CAAM;AAFmB,qCAAV,CADd;;AAAA;AACCC,wCADD;;;AAML;;AAEA,qCAAEN,GAAGO,cAAH,CAAkB,SAAlB,CAAF,IAAkCP,GAAGQ,cAAH,CAAkB,SAAlB,EAA6BF,KAAKA,IAAL,CAAUG,OAAvC,CAAlC;;AAEAX;;AAVK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAT;;AAAA;AAAA;AAAA;AAAA,eADK;AAaLY,gBAbK,kBAaE;AACHX;AACH;AAfI,SAAT;AAiBH,KAlBM,CAAP;AAmBH,C;;;;;;;;;ACtBD;AAAA;AACA;AACA;AACA,yBAA6Y;AAC7Y;AACA;AACA;AACA;AACA;AACsP;AACtP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,sDAAsD,IAAI;AACzI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;AAED;;;;;;;;;;;;;AC3CA;AACA;;AAEA,IAAMY,MAAM,IAAI,2CAAJ,CAAQ,2DAAR,CAAZ;AACAA,IAAIC,MAAJ,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2CA;0BAEA;eAGA;AAEA;;;;4BAEA;wBACA;AACA;AACA;AACA;AAEA;AAPA;AAPA,G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;;AAEA;AACA;;AAEA;0BAEA;;uBAGA;;sBAEA;;0BACA;0BACA;sBAEA;;wBACA;uBACA;uBAEA;;kBAEA;;2BAEA;AAhBA;AAkBA;;;;AAEA;AACA;AAGA;AALA;;;sDAOA;gBACA;iCACA;4BAEA;;8BACA;oDACA;AAEA;;oCACA;6BACA;AAEA;;mCACA;kCAEA;;uFACA;AAEA;;2CACA;sCACA;AAEA;;gEACA;0CACA;wDACA;0FAEA;;AACA;8BACA;gCAEA;;qFACA;AAEA;;yCACA;iDACA;uEAEA;;+BACA;6BAEA;;0DACA;AAEA;;mBACA;AAGA;AAjDA;;;AAkDA;;;;;;;mEAEA;;sCACA;;;;;;qCAOA;AANA;;;;;;8CAQA;;;yCAEA;;;;8CACA;;;;;;;;;AAEA;4CACA;aACA;AAEA;;;;;AAEA;;;;;;;;uCAEA;;;;uCACA;;;;;;;;;AACA;;AACA;;;iCAEA;;qNACA;;;;;;;;;+DAEA;oDAGA;AAJA;;;;sMAMA;;;;;;;;;kEAEA;oEAGA;AAJA;;;iDAMA;yDAGA;AAJA;;0EAKA;yEACA;yEAEA;;;;;;;;;;;;;;sCACA;;+BAEA;iCACA;oCACA;oDACA;;4DAEA;2CACA;AAEA;AAJA;AAMA;AAXA;AAaA;AAtCA;AAuCA;;AACA;;;;;;;;;iDAEA;8CAGA;AAJA;;2GAMA;;;;;;uCACA;kEAEA;;uEACA;kDACA;AAEA;;0PAEA;;2DAEA;;2FAEA;;;yCAEA;iDAEA;AAHA;;;;;;;;;AAIA;0BACA;;qBAGA;AAFA;AAGA;;AACA;;;;;;;uDAEA;;;;;;;;;;8CAEA;;;;uDACA;;;;;;;;;AAEA;AArFA;AAnGA,G","file":"static/js/pages/index/index.js","sourcesContent":["// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-3be21c31\",\"scoped\":false,\"hasInlineConfig\":false}!./~/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./~/postcss-loader/lib?{\"sourceMap\":true}!./src/css/home.css\n// module id = 130\n// module chunks = 1","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"sourceMap\":false}!./~/mpvue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-4858ecc7\",\"scoped\":true,\"hasInlineConfig\":false}!./~/px2rpx-loader?{\"baseDpr\":1,\"rpxUnit\":0.5}!./~/postcss-loader/lib?{\"sourceMap\":true}!./~/mpvue-loader/lib/selector.js?type=styles&index=0!./src/components/navigator.vue\n// module id = 131\n// module chunks = 1","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4858ecc7\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!../../node_modules/mpvue-loader/lib/selector?type=styles&index=0!./navigator.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./navigator.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4858ecc7\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./navigator.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4858ecc7\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\components\\\\navigator.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] navigator.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-4858ecc7\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-4858ecc7\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/navigator.vue\n// module id = 137\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"home-wrapper\"\n  }, [_c('header', {\n    staticClass: \"home-header\"\n  }, [_c('div', {\n    staticClass: \"user-info\"\n  }, [_c('img', {\n    staticClass: \"avatar\",\n    attrs: {\n      \"src\": _vm.userInfo.avatar\n    }\n  }), _vm._v(\" \"), _c('p', {\n    domProps: {\n      \"textContent\": _vm._s(_vm.userInfo.nickname)\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"home-learn\"\n  }, [_c('div', {\n    staticClass: \"home-learn-item\"\n  }, [_c('strong', [_vm._v(_vm._s(_vm.learnHoursFormat))]), _vm._v(\" \"), _c('p', [_vm._v(\"累计学习时长\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"home-learn-item\"\n  }, [_c('strong', [_vm._v(_vm._s(_vm.dakaTimes) + \"天\")]), _vm._v(\" \"), _c('p', [_vm._v(\"累计打卡天数\")])], 1), _vm._v(\" \"), _c('div', {\n    staticClass: \"home-learn-item\"\n  }, [_c('strong', [_vm._v(_vm._s(_vm.learnPlan) + \"个\")]), _vm._v(\" \"), _c('p', [_vm._v(\"学习计划\")])], 1)])]), _vm._v(\" \"), (!_vm.isDakaRecord) ? _c('div', {\n    staticClass: \"btn create-daka-btn\",\n    class: {\n      dakaed: _vm.isDakaRecord\n    },\n    attrs: {\n      \"eventid\": '1'\n    },\n    on: {\n      \"click\": _vm.go\n    }\n  }, [_vm._v(\"创建我的打卡\")]) : _c('div', {\n    staticClass: \"daka-list-wrapper\"\n  }, [_c('header', [_c('h1', [_vm._v(\"我的计划\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"btn created-daka-btn\",\n    attrs: {\n      \"eventid\": '0'\n    },\n    on: {\n      \"click\": _vm.go\n    }\n  }, [_vm._v(\"创建我的打卡\")])], 1), _vm._v(\" \"), _c('ul', _vm._l((_vm.dakaList), function(item, index) {\n    return _c('daka-item', {\n      key: item.url,\n      attrs: {\n        \"item\": item,\n        \"index\": index,\n        \"mpcomid\": '0-' + index\n      }\n    })\n  }))], 1), _vm._v(\" \"), (_vm.loadingScroll) ? _c('div', {\n    staticClass: \"loading-scroll\"\n  }) : _vm._e(), _vm._v(\" \"), (_vm.isLoading) ? _c('loading', {\n    attrs: {\n      \"mpcomid\": '1'\n    }\n  }) : _vm._e()])\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-3be21c31\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-3be21c31\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/mpvue-loader/lib/selector.js?type=template&index=0!./src/pages/index/index.vue\n// module id = 141\n// module chunks = 1","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('nav', {\n    staticClass: \"navigator\"\n  }, [_c('a', {\n    staticClass: \"daka-icon\",\n    attrs: {\n      \"href\": \"/pages/index/index\"\n    }\n  }, [_vm._v(\"打卡\")]), _vm._v(\" \"), _c('a', {\n    staticClass: \"discover-icon\",\n    attrs: {\n      \"href\": \"/pages/discover/index\"\n    }\n  }, [_vm._v(\"发现\")])])\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-4858ecc7\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mpvue-loader/lib/template-compiler?{\"id\":\"data-v-4858ecc7\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/mpvue-loader/lib/selector.js?type=template&index=0!./src/components/navigator.vue\n// module id = 142\n// module chunks = 1","import api from '@/api'\r\n\r\nexport function login() {\r\n    return new Promise((resolve, reject) => {\r\n        wx.login({\r\n            success: async (res) => {\r\n                const data = await api.login({\r\n                    code: res.code,\r\n                    flag: 'app02'\r\n                })\r\n\r\n                //console.log(response)\r\n\r\n                ! wx.getStorageSync('session') && wx.setStorageSync('session', data.data.session)\r\n\r\n                resolve()\r\n            },\r\n            fail() {\r\n                reject()\r\n            }\r\n        })\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","var disposed = false\nfunction injectStyle (ssrContext) {\n  if (disposed) return\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/mpvue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3be21c31\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!px2rpx-loader?{\\\"baseDpr\\\":1,\\\"rpxUnit\\\":0.5}!postcss-loader?{\\\"sourceMap\\\":true}!@/css/home\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/mpvue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/mpvue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/mpvue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3be21c31\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../node_modules/mpvue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src\\\\pages\\\\index\\\\index.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key.substr(0, 2) !== \"__\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] index.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-3be21c31\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-3be21c31\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/index/index.vue\n// module id = 60\n// module chunks = 1","import Vue from 'vue'\nimport App from './index.vue'\n\nconst app = new Vue(App)\napp.$mount()\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index/index.js","<style scoped>\r\n.navigator {\r\n    display: flex;\r\n    width: 100%;\r\n    position: fixed;\r\n    bottom: 0;\r\n    line-height: 60px;\r\n    background-color: #FFF;\r\n    box-shadow: 0 0 10px rgba(0, 0, 0, .1);\r\n\r\n    & div, & a {\r\n        flex: 1;\r\n        color: #22CDCB;\r\n        text-align: center;\r\n        font-size: 16px;\r\n        font-weight: bold;\r\n\r\n        &::before {\r\n            content: \"\";\r\n            display: inline-block;\r\n            margin-right: 9px;\r\n            width: 21px;\r\n            height: 22px;\r\n            vertical-align: middle;\r\n            background-repeat: no-repeat;\r\n            background-size: 100%;\r\n        }\r\n    }\r\n}\r\n.daka-icon::before {\r\n    background-image: url(~images/daka-icon.png);\r\n}\r\n.discover-icon::before {\r\n    background-image: url(~images/discover-icon.png);\r\n}\r\n</style>\r\n\r\n<template>\r\n    <nav class=\"navigator\">\r\n        <!-- <div class=\"daka-icon\" @click=\"gos\">打卡</div>\r\n        <div class=\"discover-icon\" @click=\"gos\">发现</div> -->\r\n        <a class=\"daka-icon\" href=\"/pages/index/index\">打卡</a>\r\n        <a class=\"discover-icon\" href=\"/pages/discover/index\">发现</a>\r\n    </nav>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data() {\r\n            return {\r\n\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            gos() {\r\n                console.log(111221)\r\n                // wx.navigateTo({\r\n                //     url: `/pages/index/index`\r\n                // })\r\n            }\r\n        }\r\n    }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/navigator.vue?38e6649e","<style src=\"@/css/home\"></style>\n\n<template>\n    <div class=\"home-wrapper\">\n\n        <header class=\"home-header\">\n            <div class=\"user-info\">\n                <img class=\"avatar\" :src=\"userInfo.avatar\">\n                <p v-text=\"userInfo.nickname\"></p>\n            </div>\n            <div class=\"home-learn\">\n                <div class=\"home-learn-item\">\n                    <strong>{{learnHoursFormat}}</strong>\n                    <p>累计学习时长</p>\n                </div>\n                <div class=\"home-learn-item\">\n                    <strong>{{dakaTimes}}天</strong>\n                    <p>累计打卡天数</p>\n                </div>\n                <div class=\"home-learn-item\">\n                    <strong>{{learnPlan}}个</strong>\n                    <p>学习计划</p>\n                </div>\n            </div>\n        </header>\n\n        <div class=\"btn create-daka-btn\" :class=\"{dakaed: isDakaRecord}\" @click=\"go\" v-if=\"! isDakaRecord\">创建我的打卡</div>\n        <div class=\"daka-list-wrapper\" v-else>\n            <header>\n                <h1>我的计划</h1>\n                <div class=\"btn created-daka-btn\" @click=\"go\">创建我的打卡</div>\n            </header>\n            <ul>\n                <daka-item :item=\"item\" :index=\"index\" :key=\"item.url\" v-for=\"item of dakaList\"></daka-item>\n            </ul>\n        </div>\n\n        <div class=\"loading-scroll\" v-if=\"loadingScroll\"></div>\n\n        <loading v-if=\"isLoading\"></loading>\n    </div>\n</template>\n\n<script>\n    import dakaItem from '@/components/daka-item'\n    import navigator from '@/components/navigator'\n    import loading from '@/components/loading'\n\n    import api from '@/api'\n    import {login} from '@/utils'\n\n    export default {\n        data() {\n            return {\n                isLoading: false,\n\n                userInfo: {},\n\n                isDakaRecord: false,\n                isListLoaded: false,\n                dakaList: [],\n\n                learnHours: 0,\n                dakaTimes: 0,\n                learnPlan: 0,\n\n                page: 1,\n\n                loadingScroll: false\n            }\n        },\n\n        components: {\n            dakaItem,\n            navigator,\n            loading\n        },\n\n        computed: {\n            learnHoursFormat() {\n                let str\n                const hours = 1 * 60 * 60\n                const time = this.learnHours\n\n                if (time < hours) {\n                    str = `${Math.round(Math.max(1, time / 60))}分钟`\n                }\n\n                if (time % hours === 0) {\n                    str = `${time / hours}小时`\n                }\n\n                if (time < 24 * hours) {\n                    const h = ~~ (time / hours)\n\n                    str = `${h}小时${Math.round(Math.max(1, (time - h * hours) / 60))}分钟`\n                }\n\n                if (time % (24 * hours) === 0) {\n                    str = `${time / (hours * 24)}天`\n                }\n\n                if (time > 24 * hours && time % (24 * hours) !== 0) {\n                    const day = ~~ (time / (24 * hours))\n                    const h = ~~ ((time - (day * 24 * hours)) / hours)\n                    const m = Math.round(Math.max(1, (time - ((day * 24 * hours) + (h * hours))) / 60))\n\n                    //console.log(h)\n                    const hourStr = `${h}小时`\n                    const minuteStr = `${m}分钟`\n\n                    str = `${day}天${h ? hourStr : ''}${m && ! h ? minuteStr : ''}`\n                }\n\n                if (time >= 30 * 24 * hours) {\n                    const month = ~~ (time / (30 * 24 * hours))\n                    const day = ~~ ((time - (month * 30 * 24 * hours)) / (24 * hours))\n\n                    const monthStr = `${month}月`\n                    const dayStr = `${day}天`\n\n                    str = `${month}月${day ? dayStr : ''}`\n                }\n\n                return str\n            }\n        },\n\n        async onLoad() {\n            this.isDakaRecord = wx.getStorageSync('isDakaRecord')\n\n            if (! this.isDakaRecord) {\n                wx.switchTab({\n                    url: '/pages/discover/index'\n                })\n\n                return\n            }\n\n            this.isLoading = true\n\n            await this.getHomeData()\n\n            this.isLoading = false\n        },\n\n        onReachBottom() {\n            this.scroll()\n        },\n\n        methods: {\n            async getHomeData(code) {\n                await login()\n\n                this.getUserInfo()\n            },\n            getUserInfo() {\n                wx.getUserInfo({\n                    withCredentials: true,\n                    success: async (res) => {\n                        await api.saveUserInfo({\n                            encryptedData: res.encryptedData,\n                            iv: res.iv\n                        })\n\n                        const [userInfo] = await Promise.all([api.getHomeData(), this.getMyDaKaList()])\n\n                        this.userInfo = {\n                            avatar: userInfo.data.Avatar,\n                            nickname: userInfo.data.Nickname\n                        }\n\n                        wx.setStorage({\n                            key: 'user',\n                            data: this.userInfo\n                        })\n\n                        this.learnHours = userInfo.data.StudyTime\n                        this.dakaTimes = userInfo.data.ClockDay\n                        this.learnPlan = userInfo.data.PlanNum\n                    },\n                    fail: () => {\n                        wx.showModal({\n                            title: '用户拒绝授权',\n                            content: '请重新授权',\n                            showCancel: false,\n                            success: () => {\n                                wx.openSetting({\n                                    success: () => {\n                                        this.getUserInfo()\n                                    }\n                                })\n                            }\n                        })\n                    }\n                })\n            },\n            async getMyDaKaList() {\n                const params = {\n                    page: this.page,\n                    pagesize: 10\n                }\n\n                const data = await api.getMyDaKaList(params)\n\n                this.page++\n                this.isDakaRecord = !! data.data.Total\n\n                data.data.Rows.forEach((item) => {\n                    item.IsJoin = true\n                })\n\n                getApp().dakaList = [... this.dakaList, ... data.data.Rows]\n\n                this.dakaList = getApp().dakaList\n\n                this.isListLoaded =  this.dakaList.length === data.data.Total\n\n                ! wx.getStorageSync('isDakaRecord') && wx.setStorage({\n                    key: 'isDakaRecord',\n                    data: this.isDakaRecord\n                })\n            },\n            go() {\n                wx.navigateTo({\n                    url: '/pages/post/index'\n                })\n            },\n            async scroll() {\n                this.loadingScroll = true\n\n                ! this.isListLoaded && await this.getMyDaKaList()\n\n                this.loadingScroll = false\n            }\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/index/index.vue?0166bc16"],"sourceRoot":""}